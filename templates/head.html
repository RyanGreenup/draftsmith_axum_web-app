<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="/static/js/wait_for_css.js"></script>
{% if note is defined %}
  {% if note.title is defined and note.title %}
    <title>{{ note.title }}</title>
  {% else %}
    <title>Untitled Note</title>
  {% endif %}
{% endif %}
<!-- Include the Stylesheet for the Markdown -->
<link rel="stylesheet" href="/static/css/markdown.css" />
<link rel="stylesheet" href="/static/css/code.css" />
<link rel="stylesheet" href="/static/css/text_edit.css" />
<link rel="stylesheet" href="/static/css/tailwind.css" />
<link rel="stylesheet" href="/static/css/notes-dnd.css" />
<!-- KaTeX -->
{% include 'katex/katex_css.html' %}
{% include 'extras/datatables/datatables.html' %}
{% include 'extras/asciinema/asciinema.html' %}


<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Add Stimulus -->
<script type="module">
  import { Application } from "/static/js/stimulus/stimulus.js"
  import TreeController from "/static/js/controllers/tree_controller.js"

  window.Stimulus = Application.start()
  Stimulus.register("tree", TreeController)

  // Add debug logging
  console.log("Stimulus initialized with TreeController")
</script>


<style>
    /* Prevent drawer flash on page load */
    .drawer-side {
        display: none;
    }
    .drawer-toggle:checked ~ .drawer-side {
        display: grid;
    }
    /* Keep left sidebar visible on large screens */
    @media (min-width: 1024px) {  /* lg breakpoint */
        .lg\:drawer-open > .drawer-side {
            display: grid;
        }
    }
</style>
